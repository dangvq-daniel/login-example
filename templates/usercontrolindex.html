{% extends "usercontrollayout.html" %}
{% block body %}
<div class="row"><h2>USER</h2></div>
<div align="left">
      {% with messages = get_flashed_messages()  %}
      {% if messages %}
      {% for message in messages %}
      <div class="alert alert-success alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">Ã—</span>
        </button>
      </div>
      {% endfor %}
      {% endif %}
      {% endwith %}
      <div class="card card-body ">
        <form action="{{url_for('add_user')}}" method="POST">
          <div class="form-group">
            <tag for="name">
              <i class="fas fa-user circle-icon"></i>
          </tag>  
            <input type="text" class="form-control" style="text-overflow:ellipsis" name="username" placeholder="Username">
          </div>
          <div class="form-group">
            <tag for="password">
              <i class="fas fa-lock circle-icon"></i>
          </tag> 
            <input type="password" class="form-control" style="text-overflow:ellipsis" name="password" placeholder="Password">
          </div>
          <div class="form-group">
            <tag for="email">
              <i class="fas fa-envelope circle-icon"></i>
          </tag> 
            <input type="email" class="form-control" style="text-overflow:ellipsis" name="email" placeholder="Email">
          </div>
          <button class="btn btn-primary btn-block">
            Save 
          </button>
        </form>
      </div>
    </div>
    <div>
        <table id="example1" class="responstable" style="width:auto">
            <thead>
              <tr>
                  <th>id</th>
                  <th>Username</th>
                  <th>Password</th>
                  <th>Email</th>
                  <th>Action</th>
              </tr>
            </thead>
            
              <tbody> 
              {% for row in list_requests %}
              <tr>
                  <td>{{ row[0] }}</td>
                  <td>{{ row[1] }}</td>
                  <td>{{ row[2] }}</td>
                  <td>{{ row[3] }}</td>
                  <td>
                      <a href="/edituser/{{row[0]}}" class="btn btn-primary">Edit</a>
                      <a href="/deleteuser/{{row[0]}}" class="btn btn-danger btn-delete btn-sm">Delete</a>
                    </td>
                  </tr>
              </tr>                   
              {% endfor %}
            </tbody>
          </table>
        </div>
  </div>
</div>
{% endblock %}
