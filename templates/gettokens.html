{% extends 'layoutadmin.html' %}

{% block title %}GET TOKENS{% endblock %}

{% block content %}

<h2>GET TOKENS</h2>
<div class="col-md-4">
    <table id="example2" class="table table-striped table-bordered" style="width:100%">
        <thead>
          <tr>
              <td>Tokens</td>
          </tr>
        </thead>
        
          <tbody> 
          {% for row in list_requests %}
          <tr>
              <td >{{ row[0] }}</td>
              <td width="130"> <input type="button" name="copy" value="Copy"/>
                </td>
          </tr>                   
          
          {% endfor %}
        </tbody>
      </table>
      <script>
    $(document).ready( function () {
    var table = $('#example2').DataTable( {
      dom: 'Bftrip',
      buttons: [
        {
          extend: 'copy',
          exportOptions: {
            rows: '.copy_me'
          }
        }
      ],
      initComplete: function () {$( this.api().button(0).node() ).css({'display': 'none'});
      }
    } );
  
    $('#example2').on('click', 'tbody input[name="copy"]', function () {
      // Get the row clicked on
      var tr = $(this).closest('tr');
      
      // Add class for copy button
      $(tr).addClass('copy_me');
  
      // Trigger the button
      table.button(0).trigger(); 
  
      // Remove the copy class
      $(tr).removeClass('copy-me');
    });
  } );
      </script>
</div>
{% endblock %}