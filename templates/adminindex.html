{% extends "adminlayout.html" %}
{% block body %}
 <div class="row style=text-align: left"><h3>Request</h></div>
  <div class="row">
    <div class="col-sm-4 offset-left-2">
      {% with messages = get_flashed_messages()  %}
      {% if messages %}
      {% for message in messages %}
      <div class="alert alert-success alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">Ã—</span>
        </button>
      </div>
      {% endfor %}
      {% endif %}
      {% endwith %}
      <div class="card card-body ">
        <form action="{{url_for('add_userrequest')}}" method="POST">
          <div class="form-group">
            <input type="text" class="form-control" name="userofticket" placeholder="Username">
          </div>
          <div class="form-group">
            <input type="date" class="form-control" name="dateofticket" placeholder="Date">
          </div>
          <div class="form-group">
            <input type="text" class="form-control" name="requesttype" placeholder="Request Type">
          </div>
          <div class="form-group">
            <input type="text" class="form-control" name="title" placeholder="Title">
          </div>
          <div class="form-group">
            <input type="text" class="form-control" name="name" placeholder="Name">
          </div>
          <div class="form-group">
            <input type="text" class="form-control" name="address" placeholder="Address">
          </div>
          <div class="form-group">
            <input type="text" class="form-control" name="phonenumber" placeholder="Phone number">
          </div>
          <div class="form-group">
            <input type="email" class="form-control" name="emailofticket" placeholder="Email">
          </div>
          <textarea type="textarea" name ="userrequest" class="form-control" placeholder="Request"> </textarea>
          <div class="form-group">
            <select name="status" placeholder="status">
                <option>New</option>
                <option>Loading</option>
                <option>Done</option>
            </select>
          </div>
          <button class="btn btn-primary btn-block">
            Save 
          </button>
        </form>
      </div>
    </div>
    <div class="col-md-4">
        <table id="example" class="table table-striped table-bordered" style="width:100%">
            <thead>
              <tr>
                  <td>id</td>
                  <td>Username</td>
                  <td>Date of request</td>
                  <td>Request type</td>
                  <td>Title</td>
                  <td>Name</td>
                  <td>Address</td>
                  <td>Phonenumber</td>
                  <td>Email</td>
                  <td>Request</td>
                  <td>Status</td>
                  <td>Action</td>
              </tr>
            </thead>
            
              <tbody> 
              {% for row in list_requests %}
              <tr>
                  <td>{{ row[0] }}</td>
                  <td>{{ row[1] }}</td>
                  <td>{{ row[2] }}</td>
                  <td>{{ row[3] }}</td>
                  <td>{{ row[4] }}</td>
                  <td>{{ row[5] }}</td>
                  <td>{{ row[6] }}</td>
                  <td>{{ row[7] }}</td>
                  <td>{{ row[8] }}</td>
                  <td>{{ row[9] }}</td>
                  <td>{{ row[10] }}</td>
                  <td width="130">
                      <a href="/edit/{{row[0]}}" class="btn btn-primary">Edit</a>
                      <a href="/delete/{{row[0]}}" class="btn btn-danger btn-delete btn-sm">Delete</a>
                    </td>
                  </tr>
              </tr>                   
              {% endfor %}
            </tbody>
          </table>
    </div>
  </div>
</div>
  
{% endblock %}